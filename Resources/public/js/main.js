!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/bundles/agrigestion/",r(r.s=0)}({0:function(t,e,r){t.exports=r("RdjW")},RdjW:function(t,e,r){"use strict";var n=o(r("blWN"));function o(t){return t&&t.__esModule?t:{default:t}}var s=new(o(r("WUCl")).default)("");document.querySelectorAll("form.ribs-form").forEach((function(t){var e=t.querySelectorAll(".input-autocomplete"),r=document.createElement("div");r.classList.add("result-autocomplete"),document.querySelector(".input-autocomplete").after(r),e.forEach((function(t){var e=n.default.getWidth(t),r=t.parentNode.querySelector("#"+t.id+"_id");t.addEventListener("keyup",(function(n){var o=n.currentTarget;o.value.length>2&&s.post(o.dataset.url,{autocomplete:o.value},"html").then((function(n){var o=t.parentNode.querySelector(".result-autocomplete");o.style.width=e+"px",o.innerHTML=n,o.querySelector("li").addEventListener("click",(function(e){console.log(e.currentTarget.textContent),console.log(e.currentTarget.dataset.id),r.value=e.currentTarget.dataset.id,t.value=e.currentTarget.textContent,o.innerHTML=""}))}))}))}))}))},WUCl:function(t,e,r){"use strict";r.r(e);e.default=class{constructor(t,e,r){let n=`${window.location.protocol}//${window.location.hostname}/`;window.origin||"cors"===e||(n=`${window.location.protocol}//${window.location.hostname}${window.location.port?`:${window.location.port}`:""}`),this.baseUrl=`${n}${t}`,this.mode=e,this.credentials=r}get(t,e="json"){return this.execRequest("GET",t,e)}post(t,e,r="json"){let n;if(e instanceof FormData)n=e;else{n=new FormData;for(const t in e)n.append(t,e[t])}return this.execRequest("POST",t,r,n)}execRequest(t,e,r,n=null){let o=e;"/"===e[0]&&(o=e.substr(1));const s=new Request(`${this.baseUrl}${o}`,{method:t,mode:this.mode,body:n,credentials:this.credentials});return fetch(s).then(t=>200!==t.status?"error":"json"===r?t.json():t.text()).then(t=>{if("html"===r){const e=(new DOMParser).parseFromString(t,"text/html");this.deleteScriptTagDom(),this.insertScriptTagInDom(e)}return t})}deleteScriptTagDom(){document.querySelectorAll("script[data-ribsajaxscript]").forEach(t=>{document.body.removeChild(t)})}insertScriptTagInDom(t){t.querySelectorAll("script").forEach(e=>{const r=t.createElement("script");r.src=e.src,r.dataset.ribsajaxscript="",document.body.appendChild(r)})}}},blWN:function(t,e,r){"use strict";r.r(e);e.default=class{static getHeight(t){const e=window.getComputedStyle(t).getPropertyValue("max-height");"none"!==e&&(t.style.maxHeight="inherit"),t.style.display="block";let r=parseInt(window.getComputedStyle(t).getPropertyValue("height"));return t.style.display="","none"!==e&&(t.style.maxHeight=e),r}static getWidth(t){t.style.display="block";const e=parseInt(window.getComputedStyle(t).getPropertyValue("width"));return t.style.display="",e}static toggleSlide(t,e){let r=0;const n=window.getComputedStyle(t).getPropertyValue("max-height");"none"!==n&&"0px"!==n||(r=this.getHeight(t)),t.style.transition=`max-height ${e/1e3}s ease-in-out, padding ${e/1e3}s ease-in-out`,t.style.maxHeight=0,t.style.display="block",t.style.overflow="hidden",0===r?t.style.padding="0px":t.style.removeProperty("padding"),setTimeout((function(){t.style.maxHeight=`${r}px`}),10)}static wrap(t,e,r=null){const n=t.parentNode,o=document.createElement(e);o.className=r,n.insertBefore(o,t),n.removeChild(t),o.appendChild(t)}static parents(t,e){for(;t&&t!==document;t=t.parentNode){if("class"===this.checkWanted(e)&&t.classList.contains(e.split(".")[1]))return t;if("id"===this.checkWanted(e)&&t.id===e.split("#")[1])return t}return null}static checkWanted(t){return-1!==t.indexOf(".")?"class":-1!==t.indexOf("#")?"id":null}static validateMail(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}static testPasswordStrength(t,e=4,r=8){let n=0;const o=[/(?=.*[a-z])/,/(?=.*[A-Z])/,/(?=.*[0-9])/,/(?=.[!@#$%\^&*])/];for(const e of o)e.test(t)&&(n+=100/o.length);return this.passwordStrength=n,t.length<r?(this.passwordError=`You password must contain at least ${r} caracters`,!1):n>=e*(100/o.length)||(this.passwordError="You password is not enough secure",!1)}}}});